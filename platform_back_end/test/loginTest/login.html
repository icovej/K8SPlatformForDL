<!DOCTYPE html>
<html>

<head>
    <title>Login Page</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // 当用户输入用户名和密码时，发送 AJAX 请求获取权限和工作路径
            $("#username, #password").on("input", function () {
                var username = $("#username").val();
                var password = $("#password").val();

                $.post("/login", {
                    "username": username,
                    "password": password
                }, function (data, status) {
                    if (status == "success") {
                        // 将权限和工作路径填充到对应的输入框中
                        $("#role").val(data.role);
                        $("#path").val(data.path);
                    }
                });
            });

            // 当用户点击登录按钮时，检查权限和工作路径是否已填写
            $("#login-btn").on("click", function () {
                var role = $("#role").val();
                var path = $("#path").val();

                if (role && path) {
                    // TODO: 执行登录操作，这里只是示例
                    alert("登录成功！");
                } else {
                    alert("请先输入用户名和密码，然后等待权限和工作路径填写完成！");
                }
            });
        });
    </script>
</head>

<body>
    <form>
        <label>用户名：</label>
        <input type="text" id="username" name="username" /><br /><br />

        <label>密码：</label>
        <input type="password" id="password" name="password" /><br /><br />

        <label>权限：</label>
        <input type="text" id="role" name="role" readonly /><br /><br />

        <label>工作路径：</label>
        <input type="text" id="path" name="path" readonly /><br /><br />
        <input type="button" id="login-btn" value="登录" />
    </form>
</body>

</html>